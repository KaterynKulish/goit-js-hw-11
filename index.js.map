{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '47426000-935f334b470be797f22188feb';\nconst BASE_URL = `https://pixabay.com/api/`;\n\nexport function servicePhoto(value) {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: value,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${BASE_URL}?${params}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    // console.log(response.json());\n\n    return response.json();\n  });\n}\n","export function markup(arr) {\n  return arr\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `\n        <li class=\"photo-item\">\n        <a class=\"photo-link\" href=\"${largeImageURL}\" >\n        <img class=\"photo-img\" src=${webformatURL} alt=\"${tags}\"/>\n       </a> \n\n       <div class=\"photo-info-container\">\n          <div class=\"photo-info-item\">\n          <span class=\"photo-info-label\">Likes</span>\n          <span class=\"photo-info-value\">${likes}</span>\n          </div>\n          <div class=\"photo-info-item\">\n          <span class=\"photo-info-label\">Views</span>\n          <span class=\"photo-info-value\">${views}</span>\n          </div>\n          <div class=\"photo-info-item\">\n          <span class=\"photo-info-label\">Comments</span>\n          <span class=\"photo-info-value\">${comments}</span>\n          </div>\n          <div class=\"photo-info-item\">\n          <span class=\"photo-info-label\">Downloads</span>\n          <span class=\"photo-info-value\">${downloads}</span>\n          </div>\n       </div>\n       </li>\n       `\n    )\n    .join('');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.form-search');\nconst gallery = document.querySelector('.image-gallery');\nconst spinner = document.querySelector('.loader');\n\nform.addEventListener('submit', handleSubmit);\nspinner.style.visibility = 'hidden';\n\nimport { servicePhoto } from './js/pixabay-api';\nimport { markup } from './js/render-functions';\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  spinner.style.visibility = 'visible';\n\n  const value = event.target.elements.imageQuery.value.trim();\n  if (value === '') {\n    spinner.style.visibility = 'hidden';\n\n    return;\n  }\n  servicePhoto(value)\n    .then(photo => {\n      gallery.innerHTML = '';\n      if (!photo.total) {\n        spinner.style.visibility = 'hidden';\n        iziToast.show({\n          backgroundColor: 'red',\n          position: 'topRight',\n          messageColor: 'white',\n          iconColor: 'white',\n          maxWidth: 432,\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        return;\n      }\n      console.log(photo);\n      gallery.innerHTML = markup(photo.hits);\n      spinner.style.visibility = 'hidden';\n\n      new SimpleLightbox('.image-gallery a', {\n        overlayOpacity: 0.7,\n        captionsData: 'alt',\n        captionDelay: 250,\n        captionPosition: 'bottom',\n        captionType: 'attr',\n      });\n      gallery.refresh();\n    })\n\n    .catch(error => {\n      iziToast.error({\n        backgroundColor: 'red',\n        position: 'topRight',\n        messageColor: 'white',\n        iconColor: 'white',\n        maxWidth: 432,\n        message: error.message,\n      });\n      spinner.style.visibility = 'hidden';\n      console.log(error.message);\n    })\n    .finally(() => form.reset());\n}\n"],"names":["API_KEY","BASE_URL","servicePhoto","value","params","response","markup","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","gallery","spinner","handleSubmit","event","photo","iziToast","SimpleLightbox","error"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAaC,EAAO,CAClC,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAM,EAAE,EAAE,KAAKC,GAAY,CACrD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAIrC,OAAOA,EAAS,MACpB,CAAG,CACH,CCpBO,SAASC,EAAOC,EAAK,CAC1B,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA;AAAA,sCAE8BL,CAAa;AAAA,qCACdD,CAAY,SAASE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAMnBC,CAAK;AAAA;AAAA;AAAA;AAAA,2CAILC,CAAK;AAAA;AAAA;AAAA;AAAA,2CAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,2CAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,QAK/C,EACA,KAAK,EAAE,CACZ,CCnCA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,gBAAgB,EACjDC,EAAU,SAAS,cAAc,SAAS,EAEhDF,EAAK,iBAAiB,SAAUG,CAAY,EAC5CD,EAAQ,MAAM,WAAa,SAK3B,SAASC,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpBF,EAAQ,MAAM,WAAa,UAE3B,MAAMd,EAAQgB,EAAM,OAAO,SAAS,WAAW,MAAM,OACrD,GAAIhB,IAAU,GAAI,CAChBc,EAAQ,MAAM,WAAa,SAE3B,MACD,CACDf,EAAaC,CAAK,EACf,KAAKiB,GAAS,CAEb,GADAJ,EAAQ,UAAY,GAChB,CAACI,EAAM,MAAO,CAChBH,EAAQ,MAAM,WAAa,SAC3BI,EAAS,KAAK,CACZ,gBAAiB,MACjB,SAAU,WACV,aAAc,QACd,UAAW,QACX,SAAU,IACV,QACE,0EACZ,CAAS,EACD,MACD,CACD,QAAQ,IAAID,CAAK,EACjBJ,EAAQ,UAAYV,EAAOc,EAAM,IAAI,EACrCH,EAAQ,MAAM,WAAa,SAE3B,IAAIK,EAAe,mBAAoB,CACrC,eAAgB,GAChB,aAAc,MACd,aAAc,IACd,gBAAiB,SACjB,YAAa,MACrB,CAAO,EACDN,EAAQ,QAAO,CACrB,CAAK,EAEA,MAAMO,GAAS,CACdF,EAAS,MAAM,CACb,gBAAiB,MACjB,SAAU,WACV,aAAc,QACd,UAAW,QACX,SAAU,IACV,QAASE,EAAM,OACvB,CAAO,EACDN,EAAQ,MAAM,WAAa,SAC3B,QAAQ,IAAIM,EAAM,OAAO,CAC/B,CAAK,EACA,QAAQ,IAAMR,EAAK,MAAK,CAAE,CAC/B"}